# 个人总结报告--曹天翼

## 一、负责工作
1.完成下程序我的模块

（1）CSS设计

（2）JS 和JSON 获得要获取的预约信息

（3）XML中完成前端的实现
  
## 二、功能模块 
1. 获取上次登陆时间
2. 获取违约记录次数
3. 获取目前预约状态
4. 获取前一次的预约座位
5. 切换用户功能

##三 具体功能实现
1. 首先发送向图书馆服务器发送登录请求获取每个用户对应的不同TOKEN
2. 紧接着获取TOKEN后，利用TOKEN向服务器带有获取到的TOKEN的请求
3. 获取返回的JSON值，并且利用javascipt获取他们
4. 实现前端设计布局后，通过JS和JSON将需要获取的数据显示

##四 网页请求分析
1.获取历史预约请求： Request:https://seat.lib.whu.edu.cn:8443/rest/v2/history/1/50?token=SYGD4XO6QX11120840 

2.查看当前用户信息：：https://seat.lib.whu.edu.cn:8443/rest/v2/user? token=SYGD4XO6QX11120840 

3.查看当前座位预约信息：http://seat.lib.whu.edu.cn/rest/v2/user/ reservations?token=CQZE5BWJFM11125527

##五 前端页面设计
1. 利用weapp-ivew的组件实现各种组件的实现
2. 利用微信开发者程序自带的功能API实现获取用户登陆的昵称
3. 切换页面功能利用重定向URL切换到登陆页面


##六 遇到的问题
1. 由于登录页面获取的TOKEN并没有直接存储到全局变量里，因此在使用其他页面获取TOKEN请求会造成延迟拥堵
2. 由于无法直接修改微信端发送的请求中的head头部，不能被图书馆服务器识别，微信小程序中不允许更改头部，因此需要转法到后端服务器中再次向图书馆服务器发送请求，因此会导致变慢
3. 在短时间内多次访问图书馆服务器会造成账号的封禁

##七 解决办法
1. 在前端限制无法在同一时间段多次访问服务器
2. 暂时无法解决  
3. 在登录页面中直接获取TOKEN


